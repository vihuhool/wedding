<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–°–≤–∞–¥–µ–±–Ω–æ–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ</title>
  <link rel="stylesheet" href="/static/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Yanone+Kaffeesatz:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Playpen+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="/static/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
  <div id="toast-overlay" class="toast-overlay hidden">
    <div id="toast" class="toast">
      <span id="toast-message"></span>
    </div>
  </div>

  <div class="main-container">
    <h1>–î–æ–±—Ä–æ&nbsp;–ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</h1>
    <h2>–Ω–∞&nbsp;–Ω–∞—à—É&nbsp;—Å–≤–∞–¥—å–±—É!</h2>

    <div class="couple-photo">
      <img src="/static/photo.png" alt="–ú—ã –∂–¥—ë–º –≤–∞—Å –Ω–∞ –Ω–∞—à–µ–π —Å–≤–∞–¥—å–±–µ" loading="lazy">
    </div>

    <div class="wedding-date">
      <img src="/static/calendar.png" alt="2&nbsp;–Ω–æ—è–±—Ä—è&nbsp;2025&nbsp;–≥.,&nbsp;14:00" loading="lazy">
    </div>

    <div class="event-info">
      <h3>–ú–µ—Å—Ç–æ&nbsp;–ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è</h3>
      <p>–ë–∞–Ω–∫–µ—Ç–Ω—ã–π –∑–∞–ª "–õ–µ—è"<br>–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –Ω–∞–±., 62, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥<br>–í—Ä–µ–º—è: 14:00</p>

      <div class="map-container">
        <script
          type="text/javascript"
          charset="utf-8"
          src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3A317e1229c0303a240f835b1636f362c2167f79794723a2f41b3fedb117de73ea&width=100%25&height=400&lang=ru_RU&scroll=true"
          async>
        </script>
      </div>
    </div>

    <!-- –î—Ä–µ—Å—Å-–∫–æ–¥ / —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞ -->
    <section class="dress-code">
      <h3>–î—Ä–µ—Å—Å-–∫–æ–¥</h3>
      <p>–ù–∞—à –∑–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω –≤ –±–µ–∂–µ–≤—ã—Ö —Ç–æ–Ω–∞—Ö —Å –∞–∫—Ü–µ–Ω—Ç–∞–º–∏ —Å–≤–µ—Ç–æ–º<br>–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º –í–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –æ–¥–µ–∂–¥–µ –ø–∞—Å—Ç–µ–ª—å–Ω—ã–µ –∏–ª–∏ –ø—Ä–∏—Ä–æ–¥–Ω—ã–µ —Ç–æ–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:</p>

      <ul class="color-palette">
        <li style="--swatch:#000000"></li>
        <li style="--swatch:#7E7E7E"></li>
        <li style="--swatch:#7d8457"></li>
        <li style="--swatch:#8d6f57"></li>
        <li style="--swatch:#b99f88"></li>
        <li style="--swatch:#DAAEAD"></li>
        <li style="--swatch:#d7c6b5"></li>
        <li style="--swatch:#f6ede3"></li>
      </ul>
    </section>

    <div class="countdown">
      <h3>–î–æ&nbsp;—Ç–æ—Ä–∂–µ—Å—Ç–≤–∞&nbsp;–æ—Å—Ç–∞–ª–æ—Å—å</h3>

      <div class="timer-wrapper">
        <div class="count-circle">
          <span id="days" class="count-num">--</span>
          <span class="count-label">–¥–Ω–µ–π</span>
        </div>
        <div class="count-circle">
          <span id="hours" class="count-num">--</span>
          <span class="count-label">—á–∞—Å–æ–≤</span>
        </div>
        <div class="count-circle">
          <span id="minutes" class="count-num">--</span>
          <span class="count-label">–º–∏–Ω—É—Ç</span>
        </div>
        <div class="count-circle">
          <span id="seconds" class="count-num">--</span>
          <span class="count-label">—Å–µ–∫—É–Ω–¥</span>
        </div>
      </div>
    </div>

    <form action="/submit_rsvp" method="POST" class="rsvp-form">

      <h3>–ê–Ω–∫–µ—Ç–∞&nbsp;—É—á–∞—Å—Ç–Ω–∏–∫–∞</h3>

      <fieldset>
        <legend>üë§&nbsp;–í–∞—à–µ&nbsp;–∏–º—è</legend>
        <label class="dish-option">
          <div class="dish-header">
            <span class="dish-title">–ò–º—è&nbsp;–∏&nbsp;—Ñ–∞–º–∏–ª–∏—è</span>
          </div>
          <input type="text" name="name" class="input-text" placeholder="–í–∞—à–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—è" required>
        </label>
      </fieldset>

      <fieldset>
        <legend>üíç&nbsp;–ü—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ&nbsp;–≤&nbsp;–ó–ê–ì–°–µ&nbsp;(12:40)</legend>

        <label class="dish-option">
          <div class="dish-header">
            <input type="radio" name="zags" value="–¥–∞" required>
            <span class="dish-title no-break">–•–æ—á—É&nbsp;–ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å</span>
          </div>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="radio" name="zags" value="–Ω–µ—Ç" required>
            <span class="dish-title no-break">–ù–µ&nbsp;–ø–ª–∞–Ω–∏—Ä—É—é</span>
          </div>
        </label>
      </fieldset>

      <div class="map-container">
        <script
          type="text/javascript"
          charset="utf-8"
          src="https://api-maps.yandex.ru/services/constructor/1.0/js/?um=constructor%3Ac24b9137d17b99530b38d8c411a0228f6efc6bbc99fbd93066fed2a8002b6d2d&width=100%25&height=400&lang=ru_RU&scroll=true"
          async>
        </script>
      </div>

      <fieldset>
        <legend>üçΩÔ∏è&nbsp;–û—Å–Ω–æ–≤–Ω–æ–µ&nbsp;–±–ª—é–¥–æ</legend>

        <label class="dish-option">
          <div class="dish-header">
            <input type="radio" name="main_dish" value="chicken_mushroom" required>
            <span class="dish-title no-break">–ö—É—Ä–∏–Ω–∞—è&nbsp;–≥—Ä—É–¥–∫–∞&nbsp;—Å&nbsp;—à–∞–º–ø–∏–Ω—å–æ–Ω–∞–º–∏&nbsp;üçó</span>
          </div>
          <span class="dish-description">–ö—É—Ä–∏–Ω–∞—è –≥—Ä—É–¥–∫–∞, —à–∞–º–ø–∏–Ω—å–æ–Ω—ã, —Å—ã—Ä, —Å–ø–µ—Ü–∏–∏, –ª—É–∫ ‚Äî –≤ –Ω–µ–∂–Ω–æ–º —Å–ª–∏–≤–æ—á–Ω–æ–º —Å–æ—É—Å–µ</span>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="radio" name="main_dish" value="buzhenina" required>
            <span class="dish-title no-break">–ë—É–∂–µ–Ω–∏–Ω–∞&nbsp;—Å&nbsp;–±—Ä—É—Å–Ω–∏—á–Ω—ã–º&nbsp;—Å–æ—É—Å–æ–º&nbsp;ü•©</span>
          </div>
          <span class="dish-description">–°–æ—á–Ω–∞—è –±—É–∂–µ–Ω–∏–Ω–∞, –ø–æ–¥–∞—ë—Ç—Å—è —Å –∞—Ä–æ–º–∞—Ç–Ω—ã–º –±—Ä—É—Å–Ω–∏—á–Ω—ã–º —Å–æ—É—Å–æ–º</span>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="radio" name="main_dish" value="cod_fish" required>
            <span class="dish-title no-break">–§–∏—à&nbsp;—Å—Ç–µ–π–∫&nbsp;–∏–∑&nbsp;—Ç—Ä–µ—Å–∫–∏&nbsp;üêü</span>
          </div>
          <span class="dish-description">–§–∏–ª–µ —Ç—Ä–µ—Å–∫–∏ –∑–∞–ø–µ—á—ë–Ω–Ω–æ–µ –≤ —Å—ã—Ä–Ω–æ–π –∫–æ—Ä–æ—á–∫–µ, —Å —Å–æ—É—Å–æ–º –¢–∞—Ä—Ç–∞—Ä –∏ –≤—è–ª–µ–Ω—ã–º —Ç–æ–º–∞—Ç–æ–º</span>
        </label>
      </fieldset>

      <fieldset>
        <legend>ü•ó&nbsp;–ì–∞—Ä–Ω–∏—Ä</legend>

        <label class="dish-option">
          <div class="dish-header">
            <input type="radio" name="side_dish" value="potato" required>
            <span class="dish-title no-break">–ö–∞—Ä—Ç–æ—Ñ–µ–ª—å&nbsp;ü•î</span>
          </div>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="radio" name="side_dish" value="grilled_veggies" required>
            <span class="dish-title no-break">–û–≤–æ—â–∏&nbsp;–≥—Ä–∏–ª—å&nbsp;ü•¶</span>
          </div>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="radio" name="side_dish" value="mexican_rice" required>
            <span class="dish-title no-break">–†–∏—Å&nbsp;–ø–æ-–º–µ–∫—Å–∏–∫–∞–Ω—Å–∫–∏&nbsp;üå∂Ô∏è</span>
          </div>
        </label>
      </fieldset>

      <fieldset>
        <legend>ü•ó&nbsp;–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è&nbsp;–ø–æ&nbsp;–µ–¥–µ</legend>
        <label class="dish-option">
          <div class="dish-header">
            <span class="dish-title">–ê–ª–ª–µ—Ä–≥–∏–∏&nbsp;–∏&nbsp;–ø–æ–∂–µ–ª–∞–Ω–∏—è</span>
          </div>
          <input type="text" name="restrictions" class="input-text" placeholder="–£–∫–∞–∂–∏—Ç–µ, –µ—Å–ª–∏ –µ—Å—Ç—å –∞–ª–ª–µ—Ä–≥–∏–∏ –∏–ª–∏ –æ—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è..." required>
        </label>
      </fieldset>

      <fieldset>
        <legend>ü•Ç&nbsp;–ß—Ç–æ&nbsp;–±—É–¥–µ—Ç–µ&nbsp;–ø–∏—Ç—å?</legend>

        <label class="dish-option">
          <div class="dish-header">
            <input type="checkbox" name="drinks" value="–≤–∏—Å–∫–∏">
            <span class="dish-title no-break">–í–∏—Å–∫–∏&nbsp;ü•É</span>
          </div>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="checkbox" name="drinks" value="–¥–∂–∏–Ω">
            <span class="dish-title no-break">–î–∂–∏–Ω&nbsp;üç∏</span>
          </div>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="checkbox" name="drinks" value="—è–≥–µ—Ä–º–µ–π—Å—Ç–µ—Ä">
            <span class="dish-title no-break">–Ø–≥–µ—Ä–º–µ–π—Å—Ç–µ—Ä&nbsp;ü¶å</span>
          </div>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="checkbox" name="drinks" value="–≤–æ–¥–∫–∞">
            <span class="dish-title no-break">–í–æ–¥–∫–∞&nbsp;‚ùÑÔ∏è</span>
          </div>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="checkbox" name="drinks" value="–∫–æ–Ω—å—è–∫">
            <span class="dish-title no-break">–ö–æ–Ω—å—è–∫&nbsp;ü•É</span>
          </div>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="checkbox" name="drinks" value="—à–∞–º–ø–∞–Ω—Å–∫–æ–µ">
            <span class="dish-title no-break">–®–∞–º–ø–∞–Ω—Å–∫–æ–µ&nbsp;üçæ</span>
          </div>
        </label>

        <label class="dish-option">
          <div class="dish-header">
            <input type="checkbox" name="drinks" value="–≤–∏–Ω–æ" id="wine-checkbox">
            <span class="dish-title no-break">–í–∏–Ω–æ&nbsp;üç∑</span>
          </div>
        </label>

        <div id="wine-options" class="wine-extra" style="display: none;">
          <div>
            <label>–¶–≤–µ—Ç –≤–∏–Ω–∞:
              <select name="wine_color">
                <option value="">‚Äî</option>
                <option value="–∫—Ä–∞—Å–Ω–æ–µ">–ö—Ä–∞—Å–Ω–æ–µ</option>
                <option value="–±–µ–ª–æ–µ">–ë–µ–ª–æ–µ</option>
              </select>
            </label>
          </div>
          <div>
            <label>–¢–∏–ø –≤–∏–Ω–∞:
              <select name="wine_type">
                <option value="">‚Äî</option>
                <option value="—Å—É—Ö–æ–µ">–°—É—Ö–æ–µ</option>
                <option value="–ø–æ–ª—É—Å—É—Ö–æ–µ">–ü–æ–ª—É—Å—É—Ö–æ–µ</option>
                <option value="—Å–ª–∞–¥–∫–æ–µ">–ü–æ–ª—É—Å–ª–∞–¥–∫–æ–µ</option>
              </select>
            </label>
          </div>
        </div>
      </fieldset>

      <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </form>
  </div>

  <p class="logout-link">
    <a href="/logout">–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞</a>
  </p>

  <script>
    const targetDate = new Date("2025-11-02T14:00:00");
    function updateCountdown() {
      const now = new Date();
      const diff = targetDate - now;
      if (diff <= 0) return;

      const days    = Math.floor(diff / (1000*60*60*24));
      const hours   = Math.floor((diff / (1000*60*60)) % 24);
      const minutes = Math.floor((diff / 1000 / 60) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      document.getElementById("days").textContent = days;
      document.getElementById("hours").textContent = hours;
      document.getElementById("minutes").textContent = minutes;
      document.getElementById("seconds").textContent = seconds;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();
  </script>

  <script>
    const wineCheckbox = document.getElementById("wine-checkbox");
    const wineOptions  = document.getElementById("wine-options");
    wineCheckbox.addEventListener("change", function () {
      wineOptions.style.display = this.checked ? "block" : "none";
    });
  </script>

  <script>
    const messages = {{ get_flashed_messages(with_categories=true) | tojson }};
    if (messages.length > 0) {
      const overlay = document.getElementById('toast-overlay');
      const toastMessage = document.getElementById('toast-message');
      toastMessage.textContent = messages[0][1];
      overlay.classList.remove('hidden');
      setTimeout(() => { overlay.classList.add('hidden'); }, 4000);
    }
  </script>

  <script>
    // –ï—Å–ª–∏ –≤ URL –µ—Å—Ç—å ?confetti=1 ‚Üí –∑–∞–ø—É—Å–∫–∞–µ–º —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫
    if (new URLSearchParams(window.location.search).get("confetti") === "1") {
      setTimeout(() => {
        confetti({ particleCount: 300, spread: 250, origin: { y: 0.4 } });
        history.replaceState(null, "", window.location.pathname);
      }, 500);
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</body>
</html>
